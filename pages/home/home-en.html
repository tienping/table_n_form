<div class="page-home page-home-en">
    <section class="container">
        <hr class="m-y-0">
        <div class="tab-selections">
            <div ng-repeat="tab in itech.homeSelections"
                 class="menu-item tab-select text-xs-center">
                <button class="btn p-x-2"
                        ng-bind="tab.label" 
                        ng-click="itech.tabSelected = tab; itech.changeTab(tab.key);" 
                        ng-class="itech.tabSelected == tab ? 'active btn-primary' : 'btn-info btn-sm'">
                </button>
            </div>
            <div class="tab-select pull-right">
                <span>Company: </span>
                <select id="company-selection">
                    <option ng-repeat="company in itech.companies" ng-bind="company.label" ng-value="company.label"></option>
                </select>
            </div>
        </div>
        <hr class="m-t-0">
        <div class="home-content">
            <div class="home-content-item" ng-repeat="item in itech.homeSelections" ng-show="itech.tabSelected.key == item.key">
                <section class="item-listing" ng-if="item.type == 'list'">
                    <div ng-show="itech.data.vehicle.length">
                        <table id="table-{{ item.key }}" class="itech-table table table-striped table-bordered table-hover">
                            <thead class="thead bg-primary">
                                <tr>
                                    <th>Name</th>
                                    <th>Distance</th>
                                    <th>Time</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="vehicle in itech.data.vehicle">
                                    <td class="vehicle-name"><i class="fa fa-car"></i> {{ vehicle.name }}</td>
                                    <td>{{ vehicle.last_check.distance }} KM</td>
                                    <td>{{ vehicle.last_check.time | toHourMinute }}</td>
                                    <td class="status-indicator-div">
                                        <span class="status-indicator small bg-success m-b-1">Active</span>
                                        <span class="status-indicator small bg-danger m-b-1">Uncheck</span>
                                    </td>
                                    <td>
                                        <button clsss="cta-daily btn btn-secondary" ng-click="">Daily Check</button>
                                        <button clsss="cta-breakdown btn btn-secondary" ng-click="">Breakdown</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div ng-hide="itech.data.vehicle.length">
                        Loading...
                    </div>
                </section>
                <section class="item-report" ng-if="item.type == 'report'">
                    <div ng-show="itech.data.vehicle.length">
                        <div class="row cta-div p-b-1 p-r-1">
                            <div class="col-xs-6">
                                <span class="filter-text pull-left" style="padding: .25rem .75rem;">Filter: </span>
                                <input id="itech-datepicker" type="text" class="form-control form-control-2 input-sm" placeholder="Select date">
                            </div>
                            <div class="col-xs-6">
                                <button class="cta-buttun cta-download btn btn-secondary btn-sm pull-right"
                                        ng-click="itech.exportToExcel('#table-' + item.key, item.label);">
                                    Download
                                </button>
                            </div>
                        </div>
                        <table id="table-{{ item.key }}" class="itech-table table table-striped table-bordered table-hover">
                            <thead class="thead bg-primary">
                                <tr>
                                    <th>Name</th>
                                    <th>Number of Uncheck</th>
                                    <th>Number of Breakdown</th>
                                    <th>Last Breakdown</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="vehicle in itech.data.vehicle">
                                    <td><i class="fa fa-car"></i> {{ vehicle.name }}</td>
                                    <td>{{ vehicle.num_of_uncheck }}</td>
                                    <td>{{ vehicle.num_of_breakdown }}</td>
                                    <td>{{ vehicle.last_breakdown }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div ng-hide="itech.data.vehicle.length">
                        Loading...
                    </div>
                </section>
            </div>
        </div>
    </section>
</div>